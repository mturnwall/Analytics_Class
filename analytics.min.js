/*
 Copyright (c) 2013 Michael Turnwall
  Released under the GPL v3 License
  <p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
  <p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
  <p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/gpl-3.0.html">&lt;http://www.gnu.org/licenses/gpl-3.0.html&gt;</a>.</p>
*/
var GA=function(){var f={domain:"",trackOutbound:!0,siteSearchSelector:"#searchForm",siteSearchInput:"q"},g={requestInfo:["_trackEvent","Request More Information","link"],siteSearch:["_trackEvent","Quick Search","main search"],printPage:["_trackEvent","Print","current page"],social:[["_trackSocial"],["_trackEvent","Social share"]]};return{version:"0.3.3",mergeObj:function(){var a=arguments[0]||{},b=1,c=arguments.length,d,e;c===b&&(a=this,b=0);for(;b<c;b++)if(e=arguments[b],null!==e)for(d in e)a[d]=
e[d];return a},processFactoryOptions:function(a,b){var c,d;if(a)if("string"!==typeof a){c=0;for(d=a.length;c<d;c++)b.push(a[c]||"")}else b.push(a);return b},factory:function(a,b){var c=!1,d,e;if(this.gaEvents[a])for(d in c=[],this.gaEvents[a])if(e=JSON.parse(JSON.stringify(this.gaEvents[a])),"string"===typeof this.gaEvents[a][d]){c.push(this.processFactoryOptions(b,e));break}else c.push(this.processFactoryOptions(b,e[d]));return c},pushTrackEvent:function(a){for(var b in a)_gaq.push(a[b])},outboundLinks:function(a){var b=
a.href;a=!b.match(/maps.google.com/ig)?"exit":"Google Maps Driving Directions";GA.pushTrackEvent([["_trackEvent","Outbound Links",a,b]]);setTimeout(function(){location.href=b},200)},trackSiteSearch:function(a){this.pushTrackEvent(this.factory("siteSearch",a[this.opts.siteSearchInput].value));return!0},trackForms:function(a){var b=a.getAttribute("data-analytics-type")||!1,c="",d;b&&($("input, select",a).each(function(){d=this.getAttribute("type");if(this.getAttribute("data-analytics-track-value"))if("text"===
d||"hidden"===d)c+=":"+this.value;else if(("radio"===d||"checkbox"===d)&&this.checked)c+=":"+this.value}),this.pushTrackEvent(this.factory(b,c.substr(1))));return!0},trackLinks:function(a){var b=a.getAttribute("data-analytics-type")||!1,c=RegExp("^http(s)?://([a-z]+.)?("+this.opts.domain+")","ig"),d=!1;if(b)a=a.getAttribute("data-analytics-info")?a.getAttribute("data-analytics-info").split(","):"",d=this.factory(b,a);else if(!a.href.match(c))return this.outboundLinks(a),!1;if(d)return this.pushTrackEvent(d),
!0},init:function(a,b){var c=this;this.opts=this.mergeObj(f,b);this.gaEvents=this.mergeObj(g,a);$("body").on("click","a",function(){return c.trackLinks(this)});$("form").on("submit",function(){c.trackForms(this);return!1});$(this.opts.siteSearchSelector).submit(function(){return c.trackSiteSearch(this)})}}}();